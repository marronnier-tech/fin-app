# 計画ロード

1. 用途を並べ立てる
3. 用途に適合するレスポンスを考える
4. レスポンスに必要なリクエストパラメータを考える
5. エラーを考える

# 用途

## 今月・現在に対する操作

### 参照

- **最終的に今月使える残額**
  - メインバンク - 予定支出 - 貯金移動額
- 銀行の額そのまま
  - メインバンク
  - 貯金含む全ての口座
- 予定支出
  - 未確定の部分は変更可能にする
  - 確定部分は変更不可能にする
- 貯金移動先＜非優先＞
  - 貯金口座
    - 自動取得
    - 移動操作不可
  - バーチャル貯金箱＜非優先＞
    - 参照

- **今月使用した額＜非優先＞**
  - 明細
    - 既出明細
    - 予定明細
  - from全体の合計額
    - fromメインバンクの合計額
    - from貯金全体の合計額
      - from貯金口座の合計額
      - from貯金箱の合計額
- **今月の収入**
  - 月間定期（スクレイピング）
  - 臨時（手動入力）
- **カテゴリごと使用割合＜非優先＞**
  - 分母
    - 全体利用計
    - メインバンク利用計
  - スクレイピングしたカテゴリはデフォルトは未設定（null）
    - 自動設定をつけられる
      - 購入店、購入カードなど
  - カテゴリは基本後から付与
- **借金等残額（予測）＜非優先＞**
  - 詳細（リボ・医療・奨学金）

#### 更新系

- 予定支出（未来と共通）
- 支出カテゴリ（予定・既出ともに、過去共通）＜非優先＞
- 支出カテゴリの自動設定（過去共通）＜非優先＞
- 臨時収入
- 借金（各カテゴリの残りの全額、月当たり減額、特別減額月）（未来と共通）＜非優先＞
- 貯金額＜非優先＞
  - バーチャル貯金箱への入金



## 未来

#### 期間

- 月間
- 年間

#### 参照

- **最終的に使える残額**
  - 現在 + 予定収入遡及総額  - 予定支出遡及総額 - 貯金移動予定遡及総額（口座/貯金箱）
  - 遡及は「現在の翌月〜リクエスト月の合計」
- **予定収入**
  - 月収予定額（リピート）
  - 臨時収入予定額（ショット）

- **予定支出**
  - リピート
  - ショット

- 貯金予定額
  - 口座への予定額
  - 貯金箱予定額（実体・バーチャル双方）

#### 更新

- **予定収入**
  - 月収予定額（リピート）
  - 臨時収入予定額（ショット）
- **予定支出**
  - リピート
  - ショット
  - カテゴリの更新
- 貯金予定額
  - 口座への予定額
  - 貯金箱予定額（実体・バーチャル双方）



## 過去＜非優先＞

#### 期間

- 年間
- 月間

#### 表示項目

- **使用額**

  - 明細
    - 手動（自由額の明細）
    - 自動（予定額の明細）
  - 使用合計額
    - from全体の合計額
      - fromメインバンクの合計額
      - from貯金全体の合計額
        - from貯金口座の合計額
        - from貯金箱の合計額

- **カテゴリごと使用割合**

  - 分母
    - 全体利用計
    - メインバンク利用計
  - スクレイピングしたカテゴリはデフォルトは未設定（null）
  - カテゴリは基本後から付与

